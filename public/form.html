<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="style.css">
  <title>File Uploader</title>
</head>

<body>
  <div class="container">
    <h1>Давай загружай</h1>
    <form class="g-form" action="/upload" method="POST" enctype="multipart/form-data">
      <input class="input-name" type="text" name="first_name" placeholder="First name" required>
      <input class="input-name" type="text" name="last_name" placeholder="Last name" required>
      <select class="select-role" name="role">
        <option value="Employee">Employee</option>
        <option value="Patient">Patient</option>
      </select>
      <textarea class="textarea-comment" name="comment" placeholder="Comment"></textarea>
      <hr />
      <div class="upload-wrapper">
        <label class="label-upload" for="upFileOne">
          <input class="input-upload" onchange="changeValue(this)" id="upFileOne" type="file" name="uploaded_file0" >
          <span>Загрузить файл</span>
        </label>
        <label class="label-upload" for="upFileTwo">
          <input class="input-upload" onchange="changeValue(this)" id="upFileTwo" type="file" name="uploaded_file1">
          <span>Загрузить файл</span>
        </label>
        <label class="label-upload" for="upFileThree">
          <input class="input-upload" onchange="changeValue(this)" id="upFileThree" type="file" name="uploaded_file2">
          <span>Загрузить файл</span>
        </label>
        <label class="label-upload" for="upFileFour">
          <input class="input-upload" onchange="changeValue(this)" id="upFileFour" type="file" name="uploaded_file3">
          <span>Загрузить файл</span>
        </label>
        <label class="label-upload" for="upFileFive">
          <input class="input-upload" onchange="changeValue(this)" id="upFileFive" type="file" name="uploaded_file4">
          <span>Загрузить файл</span>
        </label>
        <label class="label-upload" for="upFileSix">
          <input class="input-upload" onchange="changeValue(this)" id="upFileSix" type="file" name="uploaded_file5">
          <span>Загрузить файл</span>
        </label>
        <label class="label-upload" for="upFileSeven">
          <input class="input-upload" onchange="changeValue(this)" id="upFileSeven" type="file" name="uploaded_file6">
          <span>Загрузить файл</span>
        </label>
        <label class="label-upload" for="upFileEight">
          <input class="input-upload" onchange="changeValue(this)" id="upFileEight" type="file" name="uploaded_file7">
          <span>Загрузить файл</span>
        </label>
        <label class="label-upload" for="upFileNine">
          <input class="input-upload" onchange="changeValue(this)" id="upFileNine" type="file" name="uploaded_file8">
          <span>Загрузить файл</span>
        </label>
        <label class="label-upload" for="upFileTen">
          <input class="input-upload" onchange="changeValue(this)" id="upFileTen" type="file" name="uploaded_file9">
          <span>Загрузить файл</span>
        </label>
      </div>
      <input class="input-submit" type="submit">
    </form>
  </div>

  <script>
    function changeValue(el) {
      var value = el.value;
      var label = el.parentElement;
      var span = label.querySelector('span')
      var valueArray = value.split('\\');
      var fileName = valueArray[valueArray.length - 1];
      span.classList.add('span-overflow')
      span.innerHTML = fileName

      if (/^.*\.zip/i.test(fileName)) { 
        label.classList.add('label-upload--ok');
      } else { 
        label.classList.add('label-upload--err');
      }
    }

  </script>
</body>

</html>